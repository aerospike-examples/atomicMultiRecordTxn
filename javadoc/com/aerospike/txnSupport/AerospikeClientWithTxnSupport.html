<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (10.0.1) on Thu Jul 16 09:53:52 BST 2020 -->
<title>AerospikeClientWithTxnSupport</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2020-07-16">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AerospikeClientWithTxnSupport";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":9,"i20":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/aerospike/txnSupport/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/aerospike/txnSupport/AccountTransferSimulationTest.TestFailedException.html" title="class in com.aerospike.txnSupport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.KeyAsString.html" title="class in com.aerospike.txnSupport"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html" target="_top">Frames</a></li>
<li><a href="AerospikeClientWithTxnSupport.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../com/aerospike/txnSupport/package-summary.html">com.aerospike.txnSupport</a></div>
<h2 title="Class AerospikeClientWithTxnSupport" class="title">Class AerospikeClientWithTxnSupport</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.aerospike.client.AerospikeClient</li>
<li>
<ul class="inheritance">
<li>com.aerospike.txnSupport.AerospikeClientWithTxnSupport</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>com.aerospike.client.IAerospikeClient</code>, <code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code>, <code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">AerospikeClientWithTxnSupport</span>
extends com.aerospike.client.AerospikeClient
implements <a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.KeyAsString.html" title="class in com.aerospike.txnSupport">AerospikeClientWithTxnSupport.KeyAsString</a></span></code></th>
<td class="colLast">
<div class="block">Utility class to marshal keys into strings and back again

 Used as we store keys as strings when recording txn info ( used in rollback if needed )

 Digest is serialized / de-serialized to ensure type information preserved</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.KeyFormatException.html" title="class in com.aerospike.txnSupport">AerospikeClientWithTxnSupport.KeyFormatException</a></span></code></th>
<td class="colLast">
<div class="block">Error thrown if we attempt to convert a String to a Key where it does not satisfy the required format

 Runtime exception as it should not happen

 Expected format is namespace::set::userKey</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.com.aerospike.txnSupport.TxnSupport">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;com.aerospike.txnSupport.<a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></h3>
<code><a href="../../../com/aerospike/txnSupport/TxnSupport.GenFailException.html" title="class in com.aerospike.txnSupport">TxnSupport.GenFailException</a>, <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a>, <a href="../../../com/aerospike/txnSupport/TxnSupport.TxnException.html" title="class in com.aerospike.txnSupport">TxnSupport.TxnException</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#LOCK_SET">LOCK_SET</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#LOCK_TYPE">LOCK_TYPE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#NAMESPACE_BIN_NAME">NAMESPACE_BIN_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#PREVIOUS_RECORD_VERSION_BIN_NAME">PREVIOUS_RECORD_VERSION_BIN_NAME</a></span></code></th>
<td class="colLast">
<div class="block">Static variables to support persistence of locks and transactions</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#RECORD_KEY_BIN_NAME">RECORD_KEY_BIN_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#RECORD_KEY_SET_DELIMITER">RECORD_KEY_SET_DELIMITER</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#SET_NAME_BIN_NAME">SET_NAME_BIN_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#TIMESTAMP_BIN_NAME">TIMESTAMP_BIN_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#TRANSACTION_SET">TRANSACTION_SET</a></span></code></th>
<td class="colLast">
<div class="block">Use UUIDS for lock / transaction set names to avoid namespace collisions</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#TXN_ID_BIN_NAME">TXN_ID_BIN_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#TXN_TYPE">TXN_TYPE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.aerospike.client.AerospikeClient">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;com.aerospike.client.AerospikeClient</h3>
<code>batchPolicyDefault, cluster, infoPolicyDefault, queryPolicyDefault, readPolicyDefault, scanPolicyDefault, writePolicyDefault</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#AerospikeClientWithTxnSupport-com.aerospike.client.policy.ClientPolicy-java.lang.String-int-java.lang.String-">AerospikeClientWithTxnSupport</a></span>&#8203;(com.aerospike.client.policy.ClientPolicy&nbsp;clientPolicy,
                             java.lang.String&nbsp;host,
                             int&nbsp;port,
                             java.lang.String&nbsp;transactionNamespace)</code></th>
<td class="colLast">
<div class="block">Constructor for our transaction supporting AerospikeClient
 Arguments are as per AerospikeClient</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#byteArrayToString-byte:A-">byteArrayToString</a></span>&#8203;(byte[]&nbsp;byteArray)</code></th>
<td class="colLast">
<div class="block">Convert a byte array into a hexadecimal string representation</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#createLock-com.aerospike.client.Key-java.lang.String-">createLock</a></span>&#8203;(com.aerospike.client.Key&nbsp;key,
          java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Create a lock on they object identified by key
 Throw an error if lock cannot be acquired
 Lock is associated with a transaction id</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#createTransactionRecord-java.lang.String-java.util.HashMap-java.lang.String-">createTransactionRecord</a></span>&#8203;(java.lang.String&nbsp;transactionNamespace,
                       java.util.HashMap&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;txnRecords,
                       java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Create and save transaction object - contains existing object state for all objects in transaction
 Timestamp allows reaping of hung transactions

 Package level visibility to support white box testing</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) java.util.HashMap&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#existingVersionsOfRecordsForUpdate-com.aerospike.client.Key:A-java.lang.String-">existingVersionsOfRecordsForUpdate</a></span>&#8203;(com.aerospike.client.Key[]&nbsp;keysForRecordsForUpdate,
                                  java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Internal utility method
 Creates a hash-map containing existing versions of all the timedOutTxnIDs that are going to be updated
 Keys in the hash are a concatenation of set and userKey with a special delimiter

 Package level visibility to allow white box testing</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#getTransactionNamespace--">getTransactionNamespace</a></span>()</code></th>
<td class="colLast">
<div class="block">getter for transaction namespace</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>com.aerospike.client.policy.Policy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#getTxnReadPolicy--">getTxnReadPolicy</a></span>()</code></th>
<td class="colLast">
<div class="block">getter for txn read policy</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>com.aerospike.client.policy.WritePolicy</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#getTxnWritePolicy--">getTxnWritePolicy</a></span>()</code></th>
<td class="colLast">
<div class="block">getter for txn write policy</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) com.aerospike.client.Key</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#keyForTxnID-java.lang.String-">keyForTxnID</a></span>&#8203;(java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Database key for txn record

 Package level access to allow testing use</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#lockExists-com.aerospike.client.Key-">lockExists</a></span>&#8203;(com.aerospike.client.Key&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Is there currently a lock on the object identified by 'key'</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) static com.aerospike.client.Key</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#lockKey-com.aerospike.client.Key-">lockKey</a></span>&#8203;(com.aerospike.client.Key&nbsp;key)</code></th>
<td class="colLast">
<div class="block">Returns a key for a lock on the object identifed by the 'key' parameter

 Package level access to allow white box testing</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-">put</a></span>&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
   java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate)</code></th>
<td class="colLast">
<div class="block">Save a number of records as an atomic transaction - see 'put' description above for full details
 This function identical except update will be treated as being a stand-alone transaction for commit / rollback and locking purposes
 rather than potentially being part of a larger transaction</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.lang.String-">put</a></span>&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
   java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
   java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Save a number of records as an atomic transaction
 This update will be treated as being part of the transaction identified by txnID for rollback and locking purposes
 LockAcquireException will be thrown if exclusive locks cannot be taken out on all objects in the txn*
 Objects are exclusively locked for the duration of the transaction to avoid race conditions
 Previous state of the objects is stored to allow rollback
 Locks are removed after txn is complete</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-">put</a></span>&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
   java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
   java.util.HashMap&lt;com.aerospike.client.Key,java.lang.Integer&gt;&nbsp;generationCheckMap)</code></th>
<td class="colLast">
<div class="block">Save a number of records as an atomic transaction - see 'put' description above for full details
 This function identical except update will be treated as being a stand-alone transaction for commit / rollback and locking purposes
 rather than potentially being part of a larger transaction</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-java.lang.String-">put</a></span>&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
   java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
   java.util.HashMap&lt;com.aerospike.client.Key,java.lang.Integer&gt;&nbsp;generationCheckMap,
   java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Save a number of records as an atomic transaction
 This update will be treated as being part of the transaction identified by txnID for rollback and locking purposes
 LockAcquireException will be thrown if exclusive locks cannot be taken out on all objects in the txn*
 Objects are exclusively locked for the duration of the transaction to avoid race conditions
 Previous state of the objects is stored to allow rollback
 Locks are removed after txn is complete</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#removeLock-com.aerospike.client.Key-java.lang.String-">removeLock</a></span>&#8203;(com.aerospike.client.Key&nbsp;key,
          java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Remove lock for a given key/txnID combination
 If combination does not exist, no action is taken</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#rollback-java.lang.String-">rollback</a></span>&#8203;(java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Rollback transaction identified by txnID

 Package level visibility to support use by TransactionManager</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#setEnterprise-boolean-">setEnterprise</a></span>&#8203;(boolean&nbsp;enterprise)</code></th>
<td class="colLast">
<div class="block">If using Community Aerospike you should invoke setEnterprise(false)
 Note that this will disable durable deletes making this code unreliable as deleted records may be resurrected on cold-start
 Using this code with Community is not therefore recommended, but disabling durable deletes supplied for informational purposes</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#setTxnReadPolicy-com.aerospike.client.policy.Policy-">setTxnReadPolicy</a></span>&#8203;(com.aerospike.client.policy.Policy&nbsp;txnReadPolicy)</code></th>
<td class="colLast">
<div class="block">set policy used for reading transaction records and locks</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#setTxnWritePolicy-com.aerospike.client.policy.WritePolicy-">setTxnWritePolicy</a></span>&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;txnWritePolicy)</code></th>
<td class="colLast">
<div class="block">Set policy used for creating transaction records and locks</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) static byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#stringToByteArray-java.lang.String-">stringToByteArray</a></span>&#8203;(java.lang.String&nbsp;byteArrayAsString)</code></th>
<td class="colLast">
<div class="block">Convert a string representation of a byte array to bytes</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html#txnIncomplete-java.lang.String-">txnIncomplete</a></span>&#8203;(java.lang.String&nbsp;txnID)</code></th>
<td class="colLast">
<div class="block">Check whether there is an incomplete txn with this id</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.aerospike.client.AerospikeClient">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.aerospike.client.AerospikeClient</h3>
<code>add, add, append, append, changePassword, close, createIndex, createIndex, createIndex, createRole, createRole, createUser, delete, delete, dropIndex, dropIndex, dropRole, dropUser, execute, execute, execute, execute, exists, exists, exists, exists, exists, get, get, get, get, get, get, get, get, get, get, get, get, get, getBatchPolicyDefault, getCluster, getClusterStats, getHeader, getHeader, getHeader, getHeader, getHeader, getInfoPolicyDefault, getNode, getNodeNames, getNodes, getQueryPolicyDefault, getReadPolicyDefault, getScanPolicyDefault, getWritePolicyDefault, grantPrivileges, grantRoles, info, isConnected, operate, operate, prepend, prepend, put, put, query, query, queryAggregate, queryAggregate, queryAggregateNode, queryNode, queryPartitions, queryPartitions, queryRole, queryRoles, queryUser, queryUsers, register, register, registerUdfString, removeUdf, revokePrivileges, revokeRoles, scanAll, scanAll, scanNode, scanNode, scanPartitions, scanPartitions, setWhitelist, touch, touch, truncate</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.aerospike.txnSupport.TxnSupport">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;com.aerospike.txnSupport.<a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></h3>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PREVIOUS_RECORD_VERSION_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PREVIOUS_RECORD_VERSION_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String PREVIOUS_RECORD_VERSION_BIN_NAME</pre>
<div class="block">Static variables to support persistence of locks and transactions</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.PREVIOUS_RECORD_VERSION_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TXN_ID_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TXN_ID_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String TXN_ID_BIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.TXN_ID_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TIMESTAMP_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMESTAMP_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String TIMESTAMP_BIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.TIMESTAMP_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="NAMESPACE_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NAMESPACE_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String NAMESPACE_BIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.NAMESPACE_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SET_NAME_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SET_NAME_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String SET_NAME_BIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.SET_NAME_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RECORD_KEY_BIN_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORD_KEY_BIN_NAME</h4>
<pre>public static final&nbsp;java.lang.String RECORD_KEY_BIN_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.RECORD_KEY_BIN_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCK_TYPE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCK_TYPE</h4>
<pre>public static final&nbsp;java.lang.String LOCK_TYPE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.LOCK_TYPE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TXN_TYPE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TXN_TYPE</h4>
<pre>public static final&nbsp;java.lang.String TXN_TYPE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.TXN_TYPE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RECORD_KEY_SET_DELIMITER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECORD_KEY_SET_DELIMITER</h4>
<pre>public static final&nbsp;java.lang.String RECORD_KEY_SET_DELIMITER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.RECORD_KEY_SET_DELIMITER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="TRANSACTION_SET">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TRANSACTION_SET</h4>
<pre>public static final&nbsp;java.lang.String TRANSACTION_SET</pre>
<div class="block">Use UUIDS for lock / transaction set names to avoid namespace collisions</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.TRANSACTION_SET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCK_SET">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOCK_SET</h4>
<pre>public static final&nbsp;java.lang.String LOCK_SET</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.aerospike.txnSupport.AerospikeClientWithTxnSupport.LOCK_SET">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AerospikeClientWithTxnSupport-com.aerospike.client.policy.ClientPolicy-java.lang.String-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AerospikeClientWithTxnSupport</h4>
<pre>public&nbsp;AerospikeClientWithTxnSupport&#8203;(com.aerospike.client.policy.ClientPolicy&nbsp;clientPolicy,
                                     java.lang.String&nbsp;host,
                                     int&nbsp;port,
                                     java.lang.String&nbsp;transactionNamespace)</pre>
<div class="block">Constructor for our transaction supporting AerospikeClient
 Arguments are as per AerospikeClient</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientPolicy</code> - ClientPolicy object to be used when creating client. See AerospikeClient constructor for more details</dd>
<dd><code>host</code> - String representing host</dd>
<dd><code>port</code> - Aerospike service port for host</dd>
<dd><code>transactionNamespace</code> - namespace to be used for lock and transaction records</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTransactionNamespace--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTransactionNamespace</h4>
<pre>public&nbsp;java.lang.String&nbsp;getTransactionNamespace()</pre>
<div class="block">getter for transaction namespace</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>transaction namespace</dd>
</dl>
</li>
</ul>
<a name="getTxnWritePolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxnWritePolicy</h4>
<pre>public&nbsp;com.aerospike.client.policy.WritePolicy&nbsp;getTxnWritePolicy()</pre>
<div class="block">getter for txn write policy</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>WritePolicy used for transaction records and locks</dd>
</dl>
</li>
</ul>
<a name="getTxnReadPolicy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTxnReadPolicy</h4>
<pre>public&nbsp;com.aerospike.client.policy.Policy&nbsp;getTxnReadPolicy()</pre>
<div class="block">getter for txn read policy</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ReadPolicy used for transaction records and locks</dd>
</dl>
</li>
</ul>
<a name="setTxnWritePolicy-com.aerospike.client.policy.WritePolicy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTxnWritePolicy</h4>
<pre>public&nbsp;void&nbsp;setTxnWritePolicy&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;txnWritePolicy)</pre>
<div class="block">Set policy used for creating transaction records and locks</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>txnWritePolicy</code> - WritePolicy</dd>
</dl>
</li>
</ul>
<a name="setEnterprise-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnterprise</h4>
<pre>public&nbsp;void&nbsp;setEnterprise&#8203;(boolean&nbsp;enterprise)</pre>
<div class="block">If using Community Aerospike you should invoke setEnterprise(false)
 Note that this will disable durable deletes making this code unreliable as deleted records may be resurrected on cold-start
 Using this code with Community is not therefore recommended, but disabling durable deletes supplied for informational purposes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>enterprise</code> - - boolean determining whether txn support should run in Enterprise mode</dd>
</dl>
</li>
</ul>
<a name="setTxnReadPolicy-com.aerospike.client.policy.Policy-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTxnReadPolicy</h4>
<pre>public&nbsp;void&nbsp;setTxnReadPolicy&#8203;(com.aerospike.client.policy.Policy&nbsp;txnReadPolicy)</pre>
<div class="block">set policy used for reading transaction records and locks</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>txnReadPolicy</code> - policy used for reading locks and txn records</dd>
</dl>
</li>
</ul>
<a name="put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public final&nbsp;void&nbsp;put&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
                      java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
                      java.util.HashMap&lt;com.aerospike.client.Key,java.lang.Integer&gt;&nbsp;generationCheckMap,
                      java.lang.String&nbsp;txnID)
               throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a>,
                      <a href="../../../com/aerospike/txnSupport/TxnSupport.GenFailException.html" title="class in com.aerospike.txnSupport">TxnSupport.GenFailException</a></pre>
<div class="block">Save a number of records as an atomic transaction
 This update will be treated as being part of the transaction identified by txnID for rollback and locking purposes
 LockAcquireException will be thrown if exclusive locks cannot be taken out on all objects in the txn*
 Objects are exclusively locked for the duration of the transaction to avoid race conditions
 Previous state of the objects is stored to allow rollback
 Locks are removed after txn is complete</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-java.lang.String-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writePolicy</code> - - Write Policy to be used when updating records</dd>
<dd><code>recordsForUpdate</code> - - records supplied as a hash in Key:Bin[] form</dd>
<dd><code>generationCheckMap</code> - - key:int map allowing generationCheckMap check - useful as a check if working in environment where non-transactional writes are occurring</dd>
<dd><code>txnID</code> - - transaction id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code> - if records updated by txn are already locked</dd>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.GenFailException.html" title="class in com.aerospike.txnSupport">TxnSupport.GenFailException</a></code> - if current record generation of updated records does not match expected generation</dd>
</dl>
</li>
</ul>
<a name="put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public final&nbsp;void&nbsp;put&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
                      java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
                      java.lang.String&nbsp;txnID)
               throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></pre>
<div class="block">Save a number of records as an atomic transaction
 This update will be treated as being part of the transaction identified by txnID for rollback and locking purposes
 LockAcquireException will be thrown if exclusive locks cannot be taken out on all objects in the txn*
 Objects are exclusively locked for the duration of the transaction to avoid race conditions
 Previous state of the objects is stored to allow rollback
 Locks are removed after txn is complete</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.lang.String-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writePolicy</code> - - Write Policy to be used when updating records</dd>
<dd><code>recordsForUpdate</code> - - records supplied as a hash in Key:Bin[] form</dd>
<dd><code>txnID</code> - - transaction id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code> - if records updated by txn are already locked</dd>
</dl>
</li>
</ul>
<a name="put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public final&nbsp;void&nbsp;put&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
                      java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate,
                      java.util.HashMap&lt;com.aerospike.client.Key,java.lang.Integer&gt;&nbsp;generationCheckMap)
               throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a>,
                      <a href="../../../com/aerospike/txnSupport/TxnSupport.GenFailException.html" title="class in com.aerospike.txnSupport">TxnSupport.GenFailException</a></pre>
<div class="block">Save a number of records as an atomic transaction - see 'put' description above for full details
 This function identical except update will be treated as being a stand-alone transaction for commit / rollback and locking purposes
 rather than potentially being part of a larger transaction</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-java.util.HashMap-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writePolicy</code> - - Write Policy to be used when updating records</dd>
<dd><code>recordsForUpdate</code> - - records supplied as a hash in Key:Bin[] form</dd>
<dd><code>generationCheckMap</code> - - key:int map allowing generationCheckMap check - useful as a check if working in environment where non-transactional writes are occurring</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code> - if records updated by txn are already locked</dd>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.GenFailException.html" title="class in com.aerospike.txnSupport">TxnSupport.GenFailException</a></code> - if current record generation of updated records does not match expected generation</dd>
</dl>
</li>
</ul>
<a name="put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>put</h4>
<pre>public final&nbsp;void&nbsp;put&#8203;(com.aerospike.client.policy.WritePolicy&nbsp;writePolicy,
                      java.util.HashMap&lt;com.aerospike.client.Key,com.aerospike.client.Bin[]&gt;&nbsp;recordsForUpdate)
               throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></pre>
<div class="block">Save a number of records as an atomic transaction - see 'put' description above for full details
 This function identical except update will be treated as being a stand-alone transaction for commit / rollback and locking purposes
 rather than potentially being part of a larger transaction</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#put-com.aerospike.client.policy.WritePolicy-java.util.HashMap-">put</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writePolicy</code> - - Write Policy to be used when updating records</dd>
<dd><code>recordsForUpdate</code> - - records supplied as a hash in Key:Bin[] form</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code> - if records updated by txn are already locked</dd>
</dl>
</li>
</ul>
<a name="existingVersionsOfRecordsForUpdate-com.aerospike.client.Key:A-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existingVersionsOfRecordsForUpdate</h4>
<pre>java.util.HashMap&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;existingVersionsOfRecordsForUpdate&#8203;(com.aerospike.client.Key[]&nbsp;keysForRecordsForUpdate,
                                                                                                                        java.lang.String&nbsp;txnID)</pre>
<div class="block">Internal utility method
 Creates a hash-map containing existing versions of all the timedOutTxnIDs that are going to be updated
 Keys in the hash are a concatenation of set and userKey with a special delimiter

 Package level visibility to allow white box testing</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keysForRecordsForUpdate</code> - </dd>
<dd><code>txnID</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- HashMap</dd>
</dl>
</li>
</ul>
<a name="createTransactionRecord-java.lang.String-java.util.HashMap-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransactionRecord</h4>
<pre>void&nbsp;createTransactionRecord&#8203;(java.lang.String&nbsp;transactionNamespace,
                             java.util.HashMap&lt;java.lang.String,java.util.Map&lt;java.lang.String,java.lang.Object&gt;&gt;&nbsp;txnRecords,
                             java.lang.String&nbsp;txnID)</pre>
<div class="block">Create and save transaction object - contains existing object state for all objects in transaction
 Timestamp allows reaping of hung transactions

 Package level visibility to support white box testing</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>transactionNamespace</code> - </dd>
<dd><code>txnRecords</code> - - previous versions of timedOutTxnIDs</dd>
<dd><code>txnID</code> - - transaction ID</dd>
</dl>
</li>
</ul>
<a name="rollback-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;rollback&#8203;(java.lang.String&nbsp;txnID)
              throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></pre>
<div class="block">Rollback transaction identified by txnID

 Package level visibility to support use by TransactionManager</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#rollback-java.lang.String-">rollback</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>txnID</code> - txn to roll back</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code></dd>
</dl>
</li>
</ul>
<a name="keyForTxnID-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyForTxnID</h4>
<pre>com.aerospike.client.Key&nbsp;keyForTxnID&#8203;(java.lang.String&nbsp;txnID)</pre>
<div class="block">Database key for txn record

 Package level access to allow testing use</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>txnID</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Key</dd>
</dl>
</li>
</ul>
<a name="txnIncomplete-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>txnIncomplete</h4>
<pre>public&nbsp;boolean&nbsp;txnIncomplete&#8203;(java.lang.String&nbsp;txnID)</pre>
<div class="block">Check whether there is an incomplete txn with this id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#txnIncomplete-java.lang.String-">txnIncomplete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>txnID</code> - transaction being checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean</dd>
</dl>
</li>
</ul>
<a name="createLock-com.aerospike.client.Key-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLock</h4>
<pre>public&nbsp;void&nbsp;createLock&#8203;(com.aerospike.client.Key&nbsp;key,
                       java.lang.String&nbsp;txnID)
                throws <a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></pre>
<div class="block">Create a lock on they object identified by key
 Throw an error if lock cannot be acquired
 Lock is associated with a transaction id</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#createLock-com.aerospike.client.Key-java.lang.String-">createLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Aerospike Key for record requiring lock</dd>
<dd><code>txnID</code> - Transaction record is being locked for</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.LockAcquireException.html" title="class in com.aerospike.txnSupport">TxnSupport.LockAcquireException</a></code> - if records updated by txn are already locked</dd>
</dl>
</li>
</ul>
<a name="removeLock-com.aerospike.client.Key-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLock</h4>
<pre>public&nbsp;void&nbsp;removeLock&#8203;(com.aerospike.client.Key&nbsp;key,
                       java.lang.String&nbsp;txnID)</pre>
<div class="block">Remove lock for a given key/txnID combination
 If combination does not exist, no action is taken</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#removeLock-com.aerospike.client.Key-java.lang.String-">removeLock</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Aerospike Key for record requiring lock removal</dd>
<dd><code>txnID</code> - Transaction record was locked</dd>
</dl>
</li>
</ul>
<a name="lockKey-com.aerospike.client.Key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockKey</h4>
<pre>static&nbsp;com.aerospike.client.Key&nbsp;lockKey&#8203;(com.aerospike.client.Key&nbsp;key)</pre>
<div class="block">Returns a key for a lock on the object identifed by the 'key' parameter

 Package level access to allow white box testing</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Aerospike Key for record whose lock is required</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>key to a lock object</dd>
</dl>
</li>
</ul>
<a name="lockExists-com.aerospike.client.Key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockExists</h4>
<pre>public&nbsp;boolean&nbsp;lockExists&#8203;(com.aerospike.client.Key&nbsp;key)</pre>
<div class="block">Is there currently a lock on the object identified by 'key'</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../com/aerospike/txnSupport/TxnSupport.html#lockExists-com.aerospike.client.Key-">lockExists</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/aerospike/txnSupport/TxnSupport.html" title="interface in com.aerospike.txnSupport">TxnSupport</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - Aerospike Key for record whose lock is being checked</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean</dd>
</dl>
</li>
</ul>
<a name="byteArrayToString-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>byteArrayToString</h4>
<pre>static&nbsp;java.lang.String&nbsp;byteArrayToString&#8203;(byte[]&nbsp;byteArray)</pre>
<div class="block">Convert a byte array into a hexadecimal string representation</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>byteArray</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String</dd>
</dl>
</li>
</ul>
<a name="stringToByteArray-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>stringToByteArray</h4>
<pre>static&nbsp;byte[]&nbsp;stringToByteArray&#8203;(java.lang.String&nbsp;byteArrayAsString)</pre>
<div class="block">Convert a string representation of a byte array to bytes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>byteArrayAsString</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>byte[]</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/aerospike/txnSupport/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/aerospike/txnSupport/AccountTransferSimulationTest.TestFailedException.html" title="class in com.aerospike.txnSupport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/aerospike/txnSupport/AerospikeClientWithTxnSupport.KeyAsString.html" title="class in com.aerospike.txnSupport"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/aerospike/txnSupport/AerospikeClientWithTxnSupport.html" target="_top">Frames</a></li>
<li><a href="AerospikeClientWithTxnSupport.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
